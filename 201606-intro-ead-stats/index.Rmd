---
title: <br><br>Estadística Descriptiva y Análisis Exploratorio de Datos</small>
author: Joshua Kunst
output:
  rmdshower::shower_presentation:
    self_contained: true
    theme: material
    ratio: 16x10
    css: showeraux.css

---

```{r setup, include=FALSE}
library("dplyr")
library("tidyr")
library("ggplot2")


library("jbkmisc")
theme_set(theme_jbk(striptext_face = "plain"))

knitr::opts_chunk$set(
  message = FALSE, warning = FALSE, echo = FALSE, fig.showtext = TRUE, dev = "svg",
  dpi = 72
  )

col1 <- "#4caf50"
col2 <- "#449e48"


#### data dist #### 
n <- 5000

dfdist <- bind_rows(
  data_frame(key = "Simétrica", value = rnorm(n)),
  data_frame(key = "Bimodal", value =  rnorm(n) + ifelse(runif(n) < 0.5, 4, 0)),
  data_frame(key = "Uniforme", value =  runif(n)),
  data_frame(key = "Asimétrica", value = rchisq(n, 3))
  ) %>%
  mutate(key = factor(key, levels = unique(key))) %>% 
  group_by(key) %>% 
  mutate(value = (value - min(value))/(max(value) - min(value)),
         # value = value - median(value),
         value = value) %>% 
  ungroup()

dfstats <- dfdist %>% 
  group_by(key) %>% 
  summarise(media = mean(value), mediana = median(value)) %>% 
  gather(stat, value, -key)

#### data anscombe ####
data(anscombe)
dfanscombe <- tbl_df(anscombe) %>% 
  gather(key, value) %>% 
  separate(key, c("valor", "set"), sep = 1)

dfanscombe <- bind_cols(
  dfanscombe %>% filter(valor == "x") %>% rename(x = value) %>% select(-set, -valor),
  dfanscombe %>% filter(valor == "y") %>% rename(y = value) %>% select(-valor)
  ) 

dfanscombe <- dfanscombe %>%  
  mutate(set = factor(set, labels = c("Normal (x1, y1)", "Falta de Ajuste (x2, y2)",
                                      "Outiler (x3, y3)", "Influencia (x4, y4)")))

```

# Estadística Descriptiva y Análisis Exploratorio de Datos

<img src="http://bolt.mph.ufl.edu/files/2012/07/images-mod1-big-picture-eda.gif" class="cover">

## Programa

<!-- http://www.gs.washington.edu/academics/courses/akey/56008/lecture/lecture2.pdf -->

> 1. Objetivos
> 1. Introducción
> 1. Muestra y Población
> 1. Tipos de Datos/Variables
> 1. Medidas de Tendencia y Variabilidad
> 1. Visualizaciones
> 1. Acción


## Objetivos

* Realizar preguntas acerca de nuestros datos
* Buscar respuesta a través de visualizar y transformar nuestros datos
* Usar lo que descubrimos para refinar nuestra preguntas o elegir nuevas
preguntas para investigar

## Intro

asd

## Muestra y Población

<img src="http://bolt.mph.ufl.edu/files/2012/07/images-intro-eda.png" class="cover">

# Tipos de Datos/Variables

## { .fullpage }

<div class="fullpage width">
```{r typedata, fig.align="center"}
library("DiagrammeR")

grViz("digraph G {

graph [overlap = true, layout = dot, rankdir = LR]
node [shape = box, fontname = Roboto, fontsize = 10]

1  [label = 'Tipos de Variables']
2  [label = 'Categorica']
3  [label = 'Cuantitativa']
4  [label = 'Nominal']
41 [label = 'Animal: Perro, Gato, ...', fontsize = 7, shape = plaintext]
5  [label = 'Ordinal']
51 [label = 'Satisfaccion: Bueno, Malo, ...', fontsize = 7, shape = plaintext]
6  [label = 'Discreta']
61 [label = 'Numero de Hijos: 0, 1, 2, 3, ...', fontsize = 7, shape = plaintext]
7 [label = 'Continua']
71 [label = 'Peso: 4.764, 5.3, 3, 4.987, ...', fontsize = 7, shape = plaintext] 
  
1 -> 2
1 -> 3
2 -> 4
4 -> 41
2 -> 5
5 -> 51
3 -> 6
6 -> 61
3 -> 7
7 -> 71

}", width = "100%")
```
</div>

# Medidas de Tendencia y Variabilidad

## Medidas de Tendencia y Variabilidad



# Visualización

## Visualización

Usualmente 

## Ejemplo *Anscombe's Quartet*

```{r, results='asis'}
knitr::kable(anscombe)
```

¿Que tienen en común los $x$, los $y$?

## Ejemplo *Anscombe's Quartet*

```{r, echo=TRUE}
data(anscombe)
summary(anscombe)
```

## { .fullpage }

<div class="fullpage width">
```{r anscombe}
ggplot(dfanscombe, aes(x = x, y = y)) + 
  geom_point(color = col1, size = 4, shape = 1) +
  geom_smooth(method = "lm", color = col2, alpha = 0.1) + 
  facet_wrap(~set, scales = "fixed") +
  labs(x = NULL, y = NULL) + 
  theme(panel.grid = element_blank(), axis.text = element_blank())
```
</div>

## Histograma

<div class="double">
<p class="double-flow">
Un histograma es una bla bla gig asdas dasdasdasd a
asdada sd
</p>
<p class="double-flow">
<img width="80%" src="https://cloud.githubusercontent.com/assets/1775316/15851274/64162640-2c9c-11e6-9b1c-dddea14e05cc.gif">
</p>
</div>

## { .fullpage }

<div class="fullpage width">
```{r hist}
ggplot(dfdist, aes(x = value)) + 
  geom_histogram(fill = col1, color = col2, bins = 50) + 
  # geom_vline(data = dfstats, aes(xintercept = value, color = stat)) + 
  facet_wrap(~key, scales = "free") +
  labs(x = NULL, y = NULL) + 
  theme(panel.grid = element_blank(), axis.text = element_blank())
```
</div>

## Boxplot

<div class="double">
<p class="double-flow">
Boxplot Un histograma es una bla bla gig asdas dasdasdasd a
asdada sd
</p>
<p class="double-flow">
<img src="http://image.mathcaptain.com/cms/images/41/box-and-whisker-plot-example.png">
</p>
</div>


## { .fullpage }

<div class="fullpage width">
```{r boxplot}
ggplot(dfdist) + 
  geom_boxplot(aes(key, value, group = key), color = col2, fill = col1)  +
  labs(x = NULL, y = NULL) + 
  theme(panel.grid = element_blank(), axis.text.x = element_blank()) + 
  coord_flip()
```
</div>
